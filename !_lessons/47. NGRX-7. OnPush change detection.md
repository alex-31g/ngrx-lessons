## 47. OnPush change detection

Когда происходит изменение хотя бы в одном из компонентов, Angular запускает механизм обнаружения изменений по всем компонентам - **change detection**. В процессе роста приложения, частый запуск механизма обнаружения изменений может негативно сказываться на производительности приложения. Чтобы запуск механизма обнаружения изменений не выполнялся при любом изменении в приложении, Angular имеет две стратегии - change detection strategies:
- **Default** (значение по умолчанию): при изменении каких-либо данных хотя бы в одном из компонентов, Angular запускает change detection для обновления всех компонентов
- **onPush** - Angular запускает change detection:
  - когда меняется ссылка на объект @Input-свойства; 
  - когда меняется значение observable, на который подписан компонент с помощью async пайпа; 
  - когда происходит какой-то event, например click или submit

**При работе с onPush стратегией, необходимо для @Input-свойств использовать immutable типы данных**, которые могут предоставить специальные библиотеки. Но поскольку данные, которые мы получаем из store - immutable - миграция компонентов на onPush стратегию не вызывает никаких дополнительных манипуляций с данными и immutable-библиотеками.

Укажем, что мы хотим использовать OnPush в следующих компонентах:
- home
- posts-card-list
- edit-post-dialog
- post

Для этого внутри компонентов укажем следующее:   
```js
import { ChangeDetectionStrategy } from "@angular/core";

@Component({
  // selector: "selector-name",
	// templateUrl: "./component-name.component.html",
	changeDetection: ChangeDetectionStrategy.OnPush
})
```